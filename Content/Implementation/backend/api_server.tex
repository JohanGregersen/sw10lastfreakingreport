\subsubsection{API Server}\label{subsec:impl_api_server}
Communication Layer.
The communication layer is fully implemented in C\# as a RESTful Web Service API, using the build-in .NET \texttt{ServiceModel}, coded using Visual Studio as IDE. It is straight forwardly implemented following the design of the layer, described in Section \ref{sec:api_server}. The biggest variation is error-handling, and error-report-system. The communication layer obviously cannot crash, because the access to the Drive-LaB backend will crash with it. The error-handling ensures that corrupted data being processed in the logic layer, does not cast exceptions back to the communication layer. Also, by using the .NET RESTful library, a series of error-handling between the outer API and the clients accessing it, is included. This is subjects like what will happen if you target a non-existent service endpoint, or if you do not obey the HTTP-methods like GET or POST, the API will autonomously return a corresponding HTTP status code.

Logic Layer.
The logic layer is implemented in C\# using regular OOP-style programming. It contains a lot of classes and methods to handle the big variety of functionality handled in this layer. A majority of this functionality is creating the appropriate C\#-objects, either based on data in JSON-format received from the communication layer, or data in raw \texttt{DataRow}-format from the data access layer(DAL). DataRow is a .NET specific data type to hold a row of data received from a database connection, which in this implementation is what the DAL returns to the logic layer.  

The logic layer uses Json.NET, a popular JSON framework for .NET \citep{json_dot_net}. This makes it easy to serialize C\#-objects to JSON-format, by implementing a \texttt{DataContract} inside the class. It was necessary to import a library to handle this serialization/de-serialization, because the Mono cannot run all the Visual Studio-specific libraries. Another library that is not Mono-compatible is the \texttt{Device.Location}, offering the custom type \texttt{GeoCoordinate} in C\#. It is used to store spatio-temporal data, and offers functionality like computing distance between two coordinates. A library called GeoCoordinatePortable offers this functionality while being Mono-compatible, and is naturally used as substitute \citep{geocoordinateportable}.

Data Access Layer.
The data access layer(DAL) is implemented using a combination of SQL and C\#. It makes use of \texttt{Npgsql} \citep{npgsql}, a .NET data provider for PostgreSQL, which makes it very easy to write SQL statements and C\#-code in the same IDE. 